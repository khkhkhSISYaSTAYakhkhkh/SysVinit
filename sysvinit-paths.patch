--- sysvinit-2.86/src/Makefile.orig	2004-06-09 14:47:45.000000000 +0200
+++ sysvinit-2.86/src/Makefile	2004-12-26 22:40:47.622737944 +0100
@@ -9,7 +9,8 @@
 #
 
 CC	= gcc
-CFLAGS	= -Wall -O2 -fomit-frame-pointer -D_GNU_SOURCE
+OPTIMIZE = -O2 -fomit-frame-pointer
+CFLAGS	= -Wall $(OPTIMIZE) -D_GNU_SOURCE
 LDFLAGS	= -s
 STATIC	=
 
@@ -26,7 +27,7 @@
 ifeq ($(DISTRO),)
 BIN	+= mountpoint
 SBIN	+= sulogin bootlogd
-USRBIN	+= utmpdump wall
+USRBIN	+= utmpx-dump wall
 MAN1	+= mountpoint.1 wall.1
 MAN8	+= sulogin.8 bootlogd.8
 endif
@@ -71,7 +72,7 @@
 mountpoint:	mountpoint.o
 		$(CC) $(LDFLAGS) -o $@ mountpoint.o
 
-utmpdump:	utmpdump.o
+utmpx-dump:	utmpdump.o
 		$(CC) $(LDFLAGS) -o $@ utmpdump.o
 
 runlevel:	runlevel.o
--- sysvinit-2.86/src/paths.h.orig	2004-06-09 14:47:45.000000000 +0200
+++ sysvinit-2.86/src/paths.h	2004-12-26 22:41:21.122645184 +0100
@@ -25,7 +25,7 @@
 #define SDPID		"/var/run/shutdown.pid"	/* PID of shutdown program */
 #define SHELL		"/bin/sh"		/* Default shell */
 #define SULOGIN		"/sbin/sulogin"		/* Sulogin */
-#define INITSCRIPT	"/etc/initscript"	/* Initscript. */
+#define INITSCRIPT	"/etc/rc.d/rc.init"	/* Initscript. */
 #define PWRSTAT		"/etc/powerstatus"	/* COMPAT: SIGPWR reason (OK/BAD) */
 
 #if 0
--- sysvinit-2.85.orig/src/utmpdump.c	Tue Sep 12 23:14:24 2000
+++ sysvinit-2.85/src/utmpdump.c	Thu Apr 24 12:05:06 2003
@@ -265,14 +265,14 @@
 	}
 
 	if (optind < argc) {
-		fprintf(stderr, "Utmp %sdump of %s\n", reverse ? "un" : "", argv[optind]);
+		fprintf(stderr, "Utmpx %sdump of %s\n", reverse ? "un" : "", argv[optind]);
 		if ((fp = fopen(argv[optind], "r")) == NULL) {
 			perror("Unable to open file");
 			exit(1);
 		}
 	}
 	else {
-		fprintf(stderr, "Utmp %sdump of stdin\n", reverse ? "un" : "");
+		fprintf(stderr, "Utmpx %sdump of stdin\n", reverse ? "un" : "");
 		fp = stdin;
 	}
 
--- sysvinit-2.86/doc/Propaganda~	1996-01-02 20:20:54.000000000 +0200
+++ sysvinit-2.86/doc/Propaganda	2009-11-23 00:55:49.324465562 +0200
@@ -46,7 +46,7 @@
   /var/run/utmp (it's also shown on the command line if you do a "ps").
 - unreckognized options are silently ignored (such as the infamous
   "ro" - mount root file system read only).
-- if the file /etc/initscript is present it will be used to launch
+- if the file /etc/rc.d/rc.init is present it will be used to launch
   all programs that init starts (so that you can set a generic
   umask, ulimit eg for ALL processes - see initscript.sample).
 - A "sulogin" program added that always asks for the root
--- sysvinit-2.86/man/init.8~	2009-11-23 00:51:14.000000000 +0200
+++ sysvinit-2.86/man/init.8	2009-11-23 00:57:22.862750944 +0200
@@ -76,7 +76,7 @@
 are processed.
 .PP
 When starting a new process, \fBinit\fP first checks whether the file
-\fI/etc/sysconfig/initscript\fP exists. If it does, it uses this script to
+\fI/etc/rc.d/rc.init\fP exists. If it does, it uses this script to
 start the process.
 .PP
 Each time a child terminates, \fBinit\fP records the fact and the reason
@@ -240,7 +240,7 @@
 .SH FILES
 .nf
 /etc/inittab
-/etc/sysconfig/initscript
+/etc/rc.d/rc.init
 /dev/console
 /var/run/utmpx
 /var/log/wtmpx
--- sysvinit-2.86/man/initscript.5~	2009-11-23 00:51:14.000000000 +0200
+++ sysvinit-2.86/man/initscript.5	2009-11-23 00:58:47.190785642 +0200
@@ -2,9 +2,9 @@
 .SH NAME
 initscript \- script that executes inittab commands.
 .SH SYNOPSIS
-/bin/sh /etc/sysconfig/initscript id runlevels action process
+/bin/sh /etc/rc.d/rc.init id runlevels action process
 .SH DESCRIPTION
-When the shell script \fI/etc/sysconfig/initscript\fP is present, \fBinit\fP
+When the shell script \fI/etc/rc.d/rc.init\fP is present, \fBinit\fP
 will use it to execute the commands from \fIinittab\fP.
 This script can be used to set things like \fBulimit\fP and
 \fBumask\fP default values for every process.
@@ -20,7 +20,7 @@
 # initscript   Executed by init(8) for every program it
 #              wants to spawn like this:
 #
-# /bin/sh /etc/sysconfig/initscript <id> <level> <action> <process>
+# /bin/sh /etc/rc.d/rc.init <id> <level> <action> <process>
 #
 
   # Set umask to safe level, and enable core dumps.
@@ -48,7 +48,7 @@
 .RE
 .SH FILES
 /etc/inittab,
-/etc/sysconfig/initscript.
+/etc/rc.d/rc.init.
 .SH AUTHOR
 Miquel van Smoorenburg ,<miquels@cistron.nl>
 .SH "SEE ALSO"
--- sysvinit-2.86/src/initscript.sample~	1997-11-26 15:06:33.000000000 +0200
+++ sysvinit-2.86/src/initscript.sample	2009-11-23 01:00:22.490804927 +0200
@@ -1,14 +1,14 @@
 #
-# initscript	If this script is intalled as /etc/initscript,
+# initscript	If this script is intalled as /etc/rc.d/rc.init,
 #		it is executed by init(8) for every program it
 #		wants to spawn like this:
 #
-#		/bin/sh /etc/initscript <id> <level> <action> <process>
+#		/bin/sh /etc/rc.d/rc.init <id> <level> <action> <process>
 #
 #		It can be used to set the default umask and ulimit
 #		of all processes. By default this script is installed
 #		as /etc/initscript.sample, so to enable it you must
-#		rename this script first to /etc/initscript.
+#		rename this script first to /etc/rc.d/rc.init.
 #
 # Version:	@(#)initscript 1.10 10-Dec-1995 MvS.
 #
